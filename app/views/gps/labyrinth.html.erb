<h1>Labyrinth</h1>
<meta name="viewport" content="width=620" />
<canvas id="myCanvas" width="209" height="369" style="border:0px solid #000000;">
</canvas>
  <article>
    
	  <p>Latitude: <span id="lat">checking...</span></p>
	  <p>Longitude: <span id="long">checking...</span></p>
    </article>
	    
		 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button class = "arrow-up" type="button" onclick ="setUp()">hello</button>
		 <p>
		 <button class = "arrow-left" type="button" onclick ="setLeft()">hello</button>
		 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		 <button class = "arrow-right" type="button" onclick ="setRight()">hello</button>
		 </p>
		 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button class = "arrow-down" type="button" onclick ="setDown()">hello</button>
  
<script>
var laold = 0;
var loold = 0;
var x = 9;
var y = 0;
var lacur = 0;
var locur = 0;
var counter = 0;
var counter1 = 0;
var dir = 'down';

 var la = document.querySelector('#lat');
  var lo = document.querySelector('#long');
  function setLeft()
  {
	dir = 'left';
  }
    function setRight()
  {
	dir = 'right';
  }
    function setUp()
  {
	dir = 'up';
  }
    function setDown()
  {
	dir = 'down';
  }
function success(position) {
  
 
  if(laold != lacur)
  {
	ctx.moveTo(x,y);
	switch(dir)
	{
		case 'left':
			ctx.lineTo(x - 1,y);
			counter += 1;
			if( x > 0)
			{
				x -= 1;
			}
			break;
		case 'right':
			ctx.lineTo(x + 1,y);
			counter += 1;
			if(x < 100)
			{
				x += 1;
			}
			break;
		case 'up':
			ctx.lineTo(x,y - 1);
			counter += 1;
			if(y > 0)
			{
				y -= 1;
			}
			break;
		case 'down':
			//ctx.lineTo(x,y + 1);
			ctx.fillRect(x,y + 5, 24,24);
			counter += 1;
			if (y < 100)
			{
			y += 24;
			}
			break;
		default: break;
	}
	
	ctx.stroke();
	laold = position.coords.latitude;
	loold = position.coords.longitude;
  }
  //.toFixed(2);
  counter1 += 1;
  la.innerHTML = counter1;
  lo.innerHTML = counter;
  lacur = position.coords.latitude + 1;
  locur = position.coords.longitude;
  //navigator.geolocation.clearWatch(watchid);
  navigator.geolocation.getCurrentPosition(success, error, {'enableHighAccuracy':true, 'maximumAge': 1000});
}
function error(msg) {
	lo.innterHTML = 'error';
  
  // console.log(arguments);
}
if (navigator.geolocation) {
  navigator.geolocation.getCurrentPosition(success, error, {'enableHighAccuracy':true, 'maximumAge': 1000});
} else {
  error('not supported');
}
var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");
var img = new Image();
img.src = "<%= image_path("easyLab1.png") %>";
 
img.onload = function()
{
 ctx.drawImage(img,0,0);
 ctx.fillStyle = "red";
 ctx.strokeStyle = "black";
};
</script>
